// Design Tokens
// =============================================================================
// This file contains all design tokens using CSS custom properties for runtime theming
// Combined with Sass variables for compile-time optimization

// CSS Custom Properties (Runtime Variables)
// -----------------------------------------------------------------------------
:root {
  // 1. Color System (HEX & HSL for flexibility)
  --color-primary-hue: 210;
  --color-primary: hsl(var(--color-primary-hue), 85%, 55%);
  --color-primary-light: hsl(var(--color-primary-hue), 85%, 65%);
  --color-primary-dark: hsl(var(--color-primary-hue), 85%, 45%);

  --color-text-base: #1C1E21;
  --color-text-muted: #606770;
  --color-text-inverse: #FFFFFF;

  --color-background-body: #FFFFFF;
  --color-background-surface: #F0F2F5;
  --color-background-elevated: #FFFFFF;

  --color-border-default: #CED0D4;
  --color-border-light: #E4E6EA;
  --color-border-strong: #8A8D91;

  // 2. Typography System
  --font-family-base: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  --font-family-heading: 'Inter', 'Montserrat', sans-serif;
  --font-family-mono: 'JetBrains Mono', 'Fira Code', Consolas, monospace;

  --font-size-xs: 0.75rem;    // 12px
  --font-size-sm: 0.875rem;   // 14px
  --font-size-base: 1rem;     // 16px
  --font-size-lg: 1.125rem;   // 18px
  --font-size-xl: 1.25rem;    // 20px
  --font-size-2xl: 1.5rem;    // 24px
  --font-size-3xl: 1.875rem;  // 30px
  --font-size-4xl: 2.25rem;   // 36px

  // 3. Spacing System (4pt Grid)
  --space-xs: 4px;
  --space-s: 8px;
  --space-m: 16px;
  --space-l: 24px;
  --space-xl: 32px;
  --space-xxl: 48px;
  --space-3xl: 64px;

  // 4. Layout System
  --container-max-width: 1200px;
  --header-height: 70px;
  --border-radius-sm: 4px;
  --border-radius-md: 8px;
  --border-radius-lg: 12px;
  --border-radius-xl: 16px;
  --border-radius-full: 9999px;

  // 5. Visual Effects
  --transition-fast: 0.15s ease;
  --transition-normal: 0.3s ease;
  --transition-slow: 0.5s ease;

  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
  --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.2);

  // 6. Z-index Scale
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal: 1050;
}

// Dark Theme (Auto-adapts to system preference)
// -----------------------------------------------------------------------------
@media (prefers-color-scheme: dark) {
  :root {
    --color-primary-hue: 211;
    --color-primary: hsl(var(--color-primary-hue), 100%, 60%);
    --color-primary-light: hsl(var(--color-primary-hue), 100%, 70%);
    --color-primary-dark: hsl(var(--color-primary-hue), 100%, 50%);

    --color-text-base: #E4E6EB;
    --color-text-muted: #B0B3B8;
    --color-text-inverse: #1C1E21;

    --color-background-body: #121212;
    --color-background-surface: #1E1E1E;
    --color-background-elevated: #2A2A2A;

    --color-border-default: #3A3B3C;
    --color-border-light: #2F3031;
    --color-border-strong: #5A5B5C;

    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.25);
    --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.4);
    --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.5);
  }
}

// Manual Dark Theme Toggle (for [data-theme="dark"])
// -----------------------------------------------------------------------------
[data-theme="dark"] {
  --color-primary-hue: 211;
  --color-primary: hsl(var(--color-primary-hue), 100%, 60%);
  --color-primary-light: hsl(var(--color-primary-hue), 100%, 70%);
  --color-primary-dark: hsl(var(--color-primary-hue), 100%, 50%);

  --color-text-base: #E4E6EB;
  --color-text-muted: #B0B3B8;
  --color-text-inverse: #1C1E21;

  --color-background-body: #121212;
  --color-background-surface: #1E1E1E;
  --color-background-elevated: #2A2A2A;

  --color-border-default: #3A3B3C;
  --color-border-light: #2F3031;
  --color-border-strong: #5A5B5C;

  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.25);
  --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.4);
  --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.5);
}

// Sass Variables for Compile-time Usage
// -----------------------------------------------------------------------------
// Breakpoints
$breakpoints: (
  xs: 480px,
  sm: 640px,
  md: 768px,
  lg: 1024px,
  xl: 1280px,
  2xl: 1536px,
);

// Legacy color palette (for Sass functions)
$colors: (
  primary: (
    300: #93c5fd,
    400: #60a5fa,
    500: #3b82f6,
    600: #2563eb,
    700: #1d4ed8,
  
  // Secondary colors
  secondary: (
    50: #f8fafc,
    100: #f1f5f9,
    200: #e2e8f0,
    300: #cbd5e1,
    400: #94a3b8,
    500: #64748b,
    600: #475569,
    700: #334155,
    800: #1e293b,
    900: #0f172a,
  ),
  
  // Accent colors
  accent: (
    50: #fefbeb,
    100: #fef3c7,
    200: #fde68a,
    300: #fcd34d,
    400: #fbbf24,
    500: #f59e0b,
    600: #d97706,
    700: #b45309,
    800: #92400e,
    900: #78350f,
  ),
  
  // Success colors
  success: (
    50: #ecfdf5,
    100: #d1fae5,
    200: #a7f3d0,
    300: #6ee7b7,
    400: #34d399,
    500: #10b981,
    600: #059669,
    700: #047857,
    800: #065f46,
    900: #064e3b,
  ),
  
  // Warning colors
  warning: (
    50: #fffbeb,
    100: #fef3c7,
    200: #fde68a,
    300: #fcd34d,
    400: #fbbf24,
    500: #f59e0b,
    600: #d97706,
    700: #b45309,
    800: #92400e,
    900: #78350f,
  ),
  
  // Error colors
  error: (
    50: #fef2f2,
    100: #fee2e2,
    200: #fecaca,
    300: #fca5a5,
    400: #f87171,
    500: #ef4444,
    600: #dc2626,
    700: #b91c1c,
    800: #991b1b,
    900: #7f1d1d,
  ),
  
  // Neutral colors
  neutral: (
    50: #fafafa,
    100: #f5f5f5,
    200: #e5e5e5,
    300: #d4d4d4,
    400: #a3a3a3,
    500: #737373,
    600: #525252,
    700: #404040,
    800: #262626,
    900: #171717,
  )
);

// Color function helper
@function color($name, $shade: 500) {
  @return map-get(map-get($colors, $name), $shade);
}

// Theme colors (semantic colors)
// -----------------------------------------------------------------------------
$theme-colors: (
  light: (
    bg-primary: color(neutral, 50),
    bg-secondary: color(neutral, 100),
    bg-tertiary: color(neutral, 200),
    text-primary: color(neutral, 900),
    text-secondary: color(neutral, 700),
    text-muted: color(neutral, 500),
    border: color(neutral, 200),
    shadow: rgba(0, 0, 0, 0.1),
  ),
  dark: (
    bg-primary: color(neutral, 900),
    bg-secondary: color(neutral, 800),
    bg-tertiary: color(neutral, 700),
    text-primary: color(neutral, 50),
    text-secondary: color(neutral, 300),
    text-muted: color(neutral, 500),
    border: color(neutral, 700),
    shadow: rgba(0, 0, 0, 0.3),
  )
);

// Typography
// -----------------------------------------------------------------------------
$font-families: (
  primary: ('Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif),
  mono: ('JetBrains Mono', 'Fira Code', Consolas, monospace),
  chinese: ('ZCOOL KuaiLe', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif),
);

$font-sizes: (
  xs: 0.75rem,    // 12px
  sm: 0.875rem,   // 14px
  base: 1rem,     // 16px
  lg: 1.125rem,   // 18px
  xl: 1.25rem,    // 20px
  2xl: 1.5rem,    // 24px
  3xl: 1.875rem,  // 30px
  4xl: 2.25rem,   // 36px
  5xl: 3rem,      // 48px
  6xl: 3.75rem,   // 60px
);

$font-weights: (
  light: 300,
  normal: 400,
  medium: 500,
  semibold: 600,
  bold: 700,
  extrabold: 800,
);

$line-heights: (
  none: 1,
  tight: 1.25,
  snug: 1.375,
  normal: 1.5,
  relaxed: 1.625,
  loose: 2,
);

// Spacing
// -----------------------------------------------------------------------------
$spacing: (
  0: 0,
  1: 0.25rem,   // 4px
  2: 0.5rem,    // 8px
  3: 0.75rem,   // 12px
  4: 1rem,      // 16px
  5: 1.25rem,   // 20px
  6: 1.5rem,    // 24px
  8: 2rem,      // 32px
  10: 2.5rem,   // 40px
  12: 3rem,     // 48px
  16: 4rem,     // 64px
  20: 5rem,     // 80px
  24: 6rem,     // 96px
  32: 8rem,     // 128px
  40: 10rem,    // 160px
  48: 12rem,    // 192px
  56: 14rem,    // 224px
  64: 16rem,    // 256px
);

// Breakpoints
// -----------------------------------------------------------------------------
$breakpoints: (
  xs: 480px,
  sm: 640px,
  md: 768px,
  lg: 1024px,
  xl: 1280px,
  2xl: 1536px,
);

// Layout
// -----------------------------------------------------------------------------
$layout: (
  container-max-width: 1200px,
  header-height: 70px,
  sidebar-width: 280px,
  border-radius: 8px,
  border-radius-lg: 12px,
  border-radius-xl: 16px,
  border-radius-full: 9999px,
);

// Shadows
// -----------------------------------------------------------------------------
$shadows: (
  sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05),
  base: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06),
  md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06),
  lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05),
  xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04),
  2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25),
  inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06),
);

// Transitions
// -----------------------------------------------------------------------------
$transitions: (
  fast: 0.15s ease,
  normal: 0.3s ease,
  slow: 0.5s ease,
  bounce: 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55),
);

// Z-index scale
// -----------------------------------------------------------------------------
$z-index: (
  dropdown: 1000,
  sticky: 1020,
  fixed: 1030,
  modal-backdrop: 1040,
  modal: 1050,
  popover: 1060,
  tooltip: 1070,
);

// Helper functions
// -----------------------------------------------------------------------------
@function spacing($key) {
  @return map-get($spacing, $key);
}

@function font-size($key) {
  @return map-get($font-sizes, $key);
}

@function font-weight($key) {
  @return map-get($font-weights, $key);
}

@function shadow($key) {
  @return map-get($shadows, $key);
}

@function transition($key) {
  @return map-get($transitions, $key);
}

@function breakpoint($key) {
  @return map-get($breakpoints, $key);
}

@function layout($key) {
  @return map-get($layout, $key);
}

@function z-index($key) {
  @return map-get($z-index, $key);
}
