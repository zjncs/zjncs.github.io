/* ==========================================================================
   System Design: Academic Glass OS
   Role: Senior Frontend Engineer Implementation
   Version: 4.0.0 (Ultimate)
   ========================================================================== */

:root {
  /* --- ğŸ¨ è°ƒè‰²æ¿ (Palette) --- */
  /* èƒŒæ™¯ï¼šä½¿ç”¨ææ·±è‰²åŠé€æ˜ï¼Œé…åˆé«˜æ–¯æ¨¡ç³Šï¼Œé€å‡ºåº•å›¾ */
  --glass-base: rgba(18, 18, 18, 0.72);
  --glass-hover: rgba(30, 30, 30, 0.85);
  --glass-border: rgba(255, 255, 255, 0.08);
  --glass-highlight: rgba(255, 255, 255, 0.15);
  
  /* é˜´å½±ï¼šå¤šå±‚é˜´å½±è¥é€  3D æ‚¬æµ®æ„Ÿ */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.2);
  --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 16px 48px rgba(0, 0, 0, 0.5);
  
  /* å¼ºè°ƒè‰²ï¼šMac é£æ ¼è“ï¼Œæˆ–è€…ä½ çš„æå®¢ç»¿ #00ff7f */
  --accent-color: #0a84ff; 
  --accent-hover: #409cff;
  
  /* æ–‡æœ¬è‰² */
  --text-primary: #ffffff;
  --text-secondary: #ebebf5; /* Apple Human Interface Guidelines */
  --text-tertiary: #8e8e93;

  /* --- ğŸ”  å­—ä½“æ ˆ (Typography) --- */
  /* UI å­—ä½“ï¼šæ¸…æ™°ã€ç°ä»£ã€æ— è¡¬çº¿ */
  --font-ui: "Inter", -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
  /* é˜…è¯»å­—ä½“ï¼šå­¦æœ¯ã€ä¼˜é›…ã€è¡¬çº¿ */
  --font-reading: "Noto Serif SC", "Times New Roman", "Songti SC", serif;
  /* ä»£ç å­—ä½“ï¼šç­‰å®½ã€æå®¢ */
  --font-code: "JetBrains Mono", "Fira Code", monospace;
}

/* ==========================================================================
   1. å…¨å±€é‡ç½®ä¸èƒŒæ™¯ (Global Reset)
   ========================================================================== */

/* ä¿®å¤èƒŒæ™¯é—ªçƒçš„æ ¸å¿ƒï¼šä½¿ç”¨ä¼ªå…ƒç´  + å›ºå®šå®šä½ */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -999;
  /* å¼•ç”¨ä½ çš„èƒŒæ™¯å›¾ */
  background-image: url('/img/archive-bg.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  /* æ·»åŠ å™ªç‚¹çº¹ç†ï¼ˆå¯é€‰ï¼Œå¢åŠ è´¨æ„Ÿï¼‰ */
  /* background-image: url('/img/archive-bg.png'), url('data:image/svg+xml,...'); */
}

/* æ·»åŠ ä¸€å±‚æš—è‰²é®ç½©ï¼Œç¡®ä¿æ–‡å­—åœ¨ä»»ä½•èƒŒæ™¯ä¸‹éƒ½æ¸…æ™°å¯è§ */
body::after {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -998;
  background: rgba(0, 0, 0, 0.25); /* å…¨å±€ 25% å‹æš— */
  pointer-events: none;
}

body {
  background-color: transparent !important; /* ç§»é™¤ Butterfly é»˜è®¤èƒŒæ™¯ */
  color: var(--text-primary) !important;
  font-family: var(--font-ui);
  -webkit-font-smoothing: antialiased; /* macOS å­—ä½“å¹³æ»‘ */
  -moz-osx-font-smoothing: grayscale;
}

/* é€‰ä¸­æ–‡æœ¬æ ·å¼ */
::selection {
  background: rgba(10, 132, 255, 0.3);
  color: #fff;
  text-shadow: 0 0 2px rgba(10, 132, 255, 0.5);
}

/* æ»šåŠ¨æ¡ç¾åŒ– */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 3px;
}
::-webkit-scrollbar-track {
  background: transparent;
}

/* ==========================================================================
   2. ç»ç’ƒå®¹å™¨ç³»ç»Ÿ (Glass Containers)
   è¿™æ˜¯ç¾è§‚çš„æ ¸å¿ƒï¼šç»Ÿä¸€æ‰€æœ‰å¡ç‰‡çš„è´¨æ„Ÿ
   ========================================================================== */

/* è¦†ç›–æ‰€æœ‰ä¸»è¦å®¹å™¨ */
#recent-posts > .recent-post-item,
.layout_post, 
.layout_page, 
.layout_archive, 
.layout_tag, 
.layout_category,
#aside-content .card-widget {
  background: var(--glass-base) !important;
  backdrop-filter: blur(20px) saturate(180%) !important; /* æ ¸å¿ƒï¼šæ¯›ç»ç’ƒ + é¥±å’Œåº¦æå‡ */
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid var(--glass-border);
  border-top: 1px solid var(--glass-highlight); /* é¡¶éƒ¨é«˜å…‰ï¼Œæ¨¡æ‹Ÿå…‰ç…§ */
  border-radius: 16px; /* æ›´å¤§çš„åœ†è§’ï¼Œæ›´ç°ä»£ */
  box-shadow: var(--shadow-md);
  transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* æ‚¬åœäº¤äº’ï¼šä¸Šæµ® + å…‰æ•ˆå¢å¼º */
#recent-posts > .recent-post-item:hover,
#aside-content .card-widget:hover {
  transform: translateY(-6px) scale(1.005);
  background: var(--glass-hover) !important;
  border-color: rgba(255, 255, 255, 0.2);
  box-shadow: var(--shadow-lg), 0 0 20px rgba(10, 132, 255, 0.1); /* æ·¡æ·¡çš„è“è‰²è¾‰å…‰ */
  z-index: 10;
}

/* ==========================================================================
   3. é¦–é¡µæ’ç‰ˆä¼˜åŒ– (Homepage Typography)
   ========================================================================== */

/* é¦–é¡µæ–‡ç« æ ‡é¢˜ */
#recent-posts > .recent-post-item >.recent-post-info > .article-title {
  font-family: var(--font-ui);
  font-weight: 700;
  font-size: 1.75em;
  color: var(--text-primary) !important;
  line-height: 1.3;
  margin-bottom: 10px;
  transition: color 0.3s;
}
#recent-posts > .recent-post-item >.recent-post-info > .article-title:hover {
  color: var(--accent-color) !important;
}

/* é¦–é¡µæ‘˜è¦ï¼šè§£å†³â€œå­—ä½“ä¸‘â€é—®é¢˜ */
#recent-posts > .recent-post-item >.recent-post-info > .content {
  font-family: var(--font-reading) !important; /* åˆ‡æ¢ä¸ºè¡¬çº¿ä½“ */
  font-size: 1.15em;
  color: var(--text-secondary);
  line-height: 1.8;
  margin-top: 12px;
  display: -webkit-box;
  -webkit-line-clamp: 3; /* é™åˆ¶æ˜¾ç¤º3è¡Œ */
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-align: justify; /* ä¸¤ç«¯å¯¹é½ï¼Œæ›´æœ‰æ‚å¿—æ„Ÿ */
}

/* å…ƒæ•°æ® (æ—¥æœŸã€æ ‡ç­¾) */
#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap {
  color: var(--text-tertiary);
  font-family: var(--font-ui);
  font-size: 0.9em;
  font-weight: 500;
}
#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap i {
  color: var(--accent-color); /* å›¾æ ‡ç€è‰² */
}

/* ==========================================================================
   4. æ–‡ç« è¯¦æƒ…é¡µ (Article Detail)
   è¿½æ±‚ï¼šæ²‰æµ¸å¼ã€å­¦æœ¯é˜…è¯»ä½“éªŒ
   ========================================================================== */

#article-container {
  font-family: var(--font-reading) !important;
  font-size: 19px; /* å¤§å­—å·ï¼ŒæŠ¤çœ¼ */
  line-height: 2.0; /* å®½æ¾è¡Œè· */
  color: var(--text-secondary) !important;
  padding: 20px;
}

/* æ ‡é¢˜å±‚çº§ */
#article-container h1, 
#article-container h2, 
#article-container h3,
#article-container h4 {
  font-family: var(--font-ui) !important;
  color: var(--text-primary) !important;
  margin-top: 2.5em;
  margin-bottom: 1em;
  font-weight: 700;
  position: relative;
}

/* H2 æ ‡é¢˜è£…é¥°ï¼šå·¦ä¾§ç«–çº¿ */
#article-container h2 {
  padding-left: 16px;
  border-left: 4px solid var(--accent-color);
}

/* é“¾æ¥æ ·å¼ */
#article-container a {
  color: var(--accent-color);
  text-decoration: none;
  border-bottom: 1px dotted var(--accent-color);
  transition: all 0.2s;
}
#article-container a:hover {
  background: rgba(10, 132, 255, 0.1);
  border-bottom: 1px solid var(--accent-color);
  border-radius: 4px;
}

/* åˆ—è¡¨ä¼˜åŒ– */
#article-container ul, #article-container ol {
  padding-left: 1.5em;
  margin: 1.5em 0;
}
#article-container li {
  margin: 0.5em 0;
}

/* ==========================================================================
   5. ä»£ç å—ç¾åŒ– (Code Blocks)
   ========================================================================== */

.highlight-wrap {
  border-radius: 12px;
  overflow: hidden;
  margin: 2em 0;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: var(--shadow-sm);
}

figure.highlight {
  background: #1e1e1e !important; /* çº¯é»‘èƒŒæ™¯ï¼Œå¯¹æ¯”åº¦æ›´é«˜ */
  margin: 0 !important;
}

/* ä»£ç å¤´éƒ¨ */
.highlight-tools {
  background: #252526 !important;
  border-bottom: 1px solid #333;
  height: 2.5em;
}

/* æ»šåŠ¨æ¡ */
figure.highlight table::-webkit-scrollbar {
  height: 6px;
}
figure.highlight table::-webkit-scrollbar-thumb {
  background: #444;
}

/* ä»£ç å­—ä½“ */
#article-container code {
  font-family: var(--font-code) !important;
  color: #ff79c6; /* å¼ºè°ƒè‰² */
  background: rgba(255, 255, 255, 0.1);
  padding: 2px 6px;
  border-radius: 4px;
}
#article-container pre code {
  background: transparent;
  color: inherit;
  padding: 0;
}

/* ==========================================================================
   6. å¯¼èˆªæ ä¸é¡µè„š (Navigation & Footer)
   ========================================================================== */

/* å¯¼èˆªæ ï¼šç£¨ç ‚ç»ç’ƒ */
#nav {
  background: rgba(18, 18, 18, 0.8) !important;
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  box-shadow: none;
  transition: all 0.3s;
}
#nav a {
  color: var(--text-primary) !important;
  font-family: var(--font-ui);
  font-weight: 600;
  font-size: 1.1em;
}
#nav a:hover {
  color: var(--accent-color) !important;
}

/* éšè—ä¸»é¢˜è‡ªå¸¦çš„è“è‰²èƒŒæ™¯ */
#page-header {
  background: transparent !important;
}
#page-header::before {
  background: transparent !important;
  /* ä»…åœ¨å›¾ç‰‡åº•éƒ¨åŠ æ¸å˜ï¼Œé˜²æ­¢æ ‡é¢˜çœ‹ä¸æ¸… */
  background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.6) 100%) !important;
}

/* é¡µè„š */
#footer {
  background: rgba(0, 0, 0, 0.6) !important;
  backdrop-filter: blur(10px);
  margin-top: 60px;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
}

/* ==========================================================================
   7. ç»†èŠ‚ä¿®é¥° (Polish)
   ========================================================================== */

/* ä¾§è¾¹æ ä¸ªäººä¿¡æ¯å¡ç‰‡ */
#aside-content .card-info .author-info__name {
  font-weight: 700;
  font-size: 1.8em;
}
#aside-content .card-info .author-info__description {
  font-family: var(--font-code);
  font-size: 0.9em;
  color: var(--text-tertiary);
}

/* æ ‡ç­¾äº‘ */
.tag-cloud-list a {
  background: rgba(255, 255, 255, 0.05) !important;
  padding: 6px 12px !important;
  border-radius: 8px !important;
  border: 1px solid rgba(255, 255, 255, 0.1);
  transition: all 0.3s;
}
.tag-cloud-list a:hover {
  background: var(--accent-color) !important;
  color: #fff !important;
  border-color: var(--accent-color);
}

/* å½»åº•éšè—åˆ‡æ¢æŒ‰é’® */
#rightside #darkmode_navswitch { display: none !important; }